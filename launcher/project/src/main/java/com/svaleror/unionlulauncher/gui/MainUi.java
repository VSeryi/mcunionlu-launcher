/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package com.svaleror.unionlulauncher.gui;

import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;
import java.io.File;
import java.io.IOException;
import java.net.URI;
import java.net.URISyntaxException;
import java.util.logging.Level;
import java.util.logging.Logger;

import javax.swing.ImageIcon;
import javax.swing.JFileChooser;
import javax.swing.JOptionPane;
import javax.swing.UIManager;

import org.eclipse.jgit.util.Base64;

import com.fasterxml.jackson.databind.ObjectMapper;
import com.svaleror.unionlulauncher.logic.Settings;
import com.svaleror.unionlulauncher.util.NetworkUtils;
import com.svaleror.unionlulauncher.workers.CloserWorker;
import com.svaleror.unionlulauncher.workers.DataerWorker;
import com.svaleror.unionlulauncher.workers.UpdaterWorker;

/**
 *
 * @author S.Valeror
 */
public class MainUi extends javax.swing.JFrame {

	/**
	 * 
	 */
	private static final long serialVersionUID = -1968606692259924036L;

	/**
	 * @param args
	 *            the command line arguments
	 */
	public static void main(String args[]) {
		/* Set the Nimbus look and feel */
		// <editor-fold defaultstate="collapsed" desc=" Look and feel setting code
		// (optional) ">
		/*
		 * If Nimbus (introduced in Java SE 6) is not available, stay with the default
		 * look and feel. For details see
		 * http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html
		 */
		try {
			UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
		} catch (ClassNotFoundException | InstantiationException | IllegalAccessException
				| javax.swing.UnsupportedLookAndFeelException ex) {
			java.util.logging.Logger.getLogger(MainUi.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
		}
		// </editor-fold>
		// </editor-fold>

		/* Create and display the form */
		java.awt.EventQueue.invokeLater(() -> {
			new MainUi().setVisible(true);
		});
	}

	private Integer lastValueRam = 4;
	public Settings settings = new Settings();
	ObjectMapper mapper = new ObjectMapper();

	File settingsFile = new File("./settings/settings.json");

	// Variables declaration - do not modify//GEN-BEGIN:variables
	private javax.swing.JCheckBox checkRemember;

	private javax.swing.JPasswordField fieldPassword;

	private javax.swing.JTextField fieldUser;

	private javax.swing.JFileChooser fileChooser;

	private javax.swing.JButton javaPath;

	private javax.swing.JLabel labelPassword;

	private javax.swing.JLabel labelRam;

	private javax.swing.JLabel labelUser;

	private javax.swing.JButton play;

	private javax.swing.JProgressBar progressBar;

	private javax.swing.JButton reset;

	private javax.swing.JSpinner spinnerRam;

	private javax.swing.JRadioButton statusServer;

	private org.jdesktop.beansbinding.BindingGroup bindingGroup;

	// public boolean makeUpdate(){
	// int choice = JOptionPane.showOptionDialog(this, "Se ha detectado una
	// actualización.Si continuas perderas todos los datos guardados de Minecraft,
	// del Launcher y se descargara todo de 0.", "AVISO IMPORTANTE",
	// JOptionPane.YES_NO_OPTION, JOptionPane.WARNING_MESSAGE, null, null, null);
	// return choice == JOptionPane.YES_OPTION;
	// }

	public MainUi() {
		this.setLocationRelativeTo(null);
		initComponents();
		mainUiInit();
	}

	public void closeAll() {
		System.exit(0);
	}

	public void closeLauncher() {
		try {
			mapper.writeValue(settingsFile, settings);
		} catch (IOException ex) {
			Logger.getLogger(MainUi.class.getName()).log(Level.SEVERE, null, ex);
			JOptionPane.showMessageDialog(this, "Por favor ejecuta como administrador.", "Error de Ejecucion",
					JOptionPane.ERROR_MESSAGE);
			System.exit(1);
		}
		CloserWorker closer = new CloserWorker(this);
		closer.execute();
	}

	public void disableComponents() {
		fieldUser.setEnabled(false);
		fieldPassword.setEnabled(false);
		checkRemember.setEnabled(false);
		spinnerRam.setEnabled(false);
		play.setEnabled(false);
		javaPath.setEnabled(false);
		reset.setEnabled(false);
	}

	public void enableComponents() {
		fieldUser.setEnabled(true);
		fieldPassword.setEnabled(true);
		checkRemember.setEnabled(true);
		spinnerRam.setEnabled(true);
		play.setEnabled(true);
		javaPath.setEnabled(true);
		reset.setEnabled(true);
	}

	private void fieldPasswordActionPerformed(java.awt.event.ActionEvent evt) {// GEN-FIRST:event_fieldPasswordActionPerformed
		playActionPerformed(evt);
		play.requestFocus();
	}// GEN-LAST:event_fieldPasswordActionPerformed

	private void fieldUserActionPerformed(java.awt.event.ActionEvent evt) {// GEN-FIRST:event_fieldUserActionPerformed
		playActionPerformed(evt);
		play.requestFocus();
	}// GEN-LAST:event_fieldUserActionPerformed

	/**
	 * This method is called from within the constructor to initialize the form.
	 * WARNING: Do NOT modify this code. The content of this method is always
	 * regenerated by the Form Editor.
	 */
	
	// <editor-fold defaultstate="collapsed" desc="Generated
	// Code">//GEN-BEGIN:initComponents
	private void initComponents() {
		bindingGroup = new org.jdesktop.beansbinding.BindingGroup();

		fileChooser = new javax.swing.JFileChooser();
		statusServer = new javax.swing.JRadioButton();
		labelUser = new javax.swing.JLabel();
		javaPath = new javax.swing.JButton();
		fieldUser = new javax.swing.JTextField();
		labelPassword = new javax.swing.JLabel();
		labelPassword.addMouseListener(new MouseAdapter() {
			@Override
			public void mouseClicked(MouseEvent evt) {
				labelPasswordMouseClicked(evt);
			}
		});
		fieldPassword = new javax.swing.JPasswordField();
		checkRemember = new javax.swing.JCheckBox();
		play = new javax.swing.JButton();
		progressBar = new javax.swing.JProgressBar();
		labelRam = new javax.swing.JLabel();
		spinnerRam = new javax.swing.JSpinner();
		reset = new javax.swing.JButton();

		setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
		setTitle("Unionlu - Launcher");
		setResizable(false);

		statusServer.setForeground(new java.awt.Color(240, 240, 240));
		statusServer.setToolTipText("Server Offline");
		statusServer.addActionListener(new java.awt.event.ActionListener() {
			@Override
			public void actionPerformed(java.awt.event.ActionEvent evt) {
				statusServerActionPerformed(evt);
			}
		});

		labelUser.setText("Usuario:");

		javaPath.setText("Java");
		javaPath.addActionListener(new java.awt.event.ActionListener() {
			@Override
			public void actionPerformed(java.awt.event.ActionEvent evt) {
				javaPathActionPerformed(evt);
			}
		});

		fieldUser.addActionListener(new java.awt.event.ActionListener() {
			@Override
			public void actionPerformed(java.awt.event.ActionEvent evt) {
				fieldUserActionPerformed(evt);
			}
		});

		labelPassword.setText("Contraseña (?):");

		@SuppressWarnings("rawtypes")
		org.jdesktop.beansbinding.Binding binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(
				org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, checkRemember,
				org.jdesktop.beansbinding.ObjectProperty.create(), fieldPassword,
				org.jdesktop.beansbinding.BeanProperty.create("nextFocusableComponent"));
		bindingGroup.addBinding(binding);

		fieldPassword.addActionListener(new java.awt.event.ActionListener() {
			@Override
			public void actionPerformed(java.awt.event.ActionEvent evt) {
				fieldPasswordActionPerformed(evt);
			}
		});

		checkRemember.setText("Recordarme");

		binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(
				org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, play,
				org.jdesktop.beansbinding.ObjectProperty.create(), checkRemember,
				org.jdesktop.beansbinding.BeanProperty.create("nextFocusableComponent"));
		bindingGroup.addBinding(binding);

		play.setText("Jugar");

		binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(
				org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, fieldUser,
				org.jdesktop.beansbinding.ObjectProperty.create(), play,
				org.jdesktop.beansbinding.BeanProperty.create("nextFocusableComponent"));
		bindingGroup.addBinding(binding);

		play.addActionListener(new java.awt.event.ActionListener() {
			@Override
			public void actionPerformed(java.awt.event.ActionEvent evt) {
				playActionPerformed(evt);
			}
		});

		labelRam.setText("RAM:");

		spinnerRam.setModel(new javax.swing.SpinnerNumberModel(4, 1, null, 1));
		spinnerRam.addChangeListener(new javax.swing.event.ChangeListener() {
			@Override
			public void stateChanged(javax.swing.event.ChangeEvent evt) {
				spinnerRamStateChanged(evt);
			}
		});

		reset.setText("Reset");
		reset.addActionListener(new java.awt.event.ActionListener() {
			@Override
			public void actionPerformed(java.awt.event.ActionEvent evt) {
				resetActionPerformed(evt);
			}
		});

		javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
		getContentPane().setLayout(layout);
		layout.setHorizontalGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
				.addGroup(layout.createSequentialGroup().addContainerGap()
						.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
								.addComponent(progressBar, javax.swing.GroupLayout.DEFAULT_SIZE, 246, Short.MAX_VALUE)
								.addGroup(layout.createSequentialGroup()
										.addComponent(play, javax.swing.GroupLayout.DEFAULT_SIZE,
												javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
										.addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
										.addComponent(checkRemember))
								.addGroup(javax.swing.GroupLayout.Alignment.TRAILING,
										layout.createSequentialGroup()
												.addComponent(javaPath, javax.swing.GroupLayout.DEFAULT_SIZE,
														javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
												.addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
												.addComponent(labelRam).addGap(12, 12, 12)
												.addComponent(spinnerRam, javax.swing.GroupLayout.PREFERRED_SIZE, 40,
														javax.swing.GroupLayout.PREFERRED_SIZE)
												.addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
												.addComponent(
														reset, javax.swing.GroupLayout.PREFERRED_SIZE, 74,
														javax.swing.GroupLayout.PREFERRED_SIZE))
								.addGroup(layout.createSequentialGroup().addGroup(layout
										.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
										.addGroup(layout.createSequentialGroup().addComponent(statusServer)
												.addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
												.addComponent(labelUser))
										.addComponent(labelPassword))
										.addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
										.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
												.addComponent(fieldUser).addComponent(fieldPassword))))
						.addContainerGap()));
		layout.setVerticalGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addGroup(layout
				.createSequentialGroup().addGap(11, 11, 11)
				.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
						.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
								.addComponent(labelUser).addComponent(fieldUser, javax.swing.GroupLayout.PREFERRED_SIZE,
										javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
						.addComponent(statusServer))
				.addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
				.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
						.addComponent(labelPassword).addComponent(fieldPassword, javax.swing.GroupLayout.PREFERRED_SIZE,
								javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
				.addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
				.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING).addComponent(play)
						.addComponent(checkRemember))
				.addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
				.addComponent(progressBar, javax.swing.GroupLayout.PREFERRED_SIZE, 24,
						javax.swing.GroupLayout.PREFERRED_SIZE)
				.addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
				.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE).addComponent(reset)
						.addComponent(spinnerRam, javax.swing.GroupLayout.PREFERRED_SIZE,
								javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
						.addComponent(labelRam).addComponent(javaPath))
				.addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)));

		bindingGroup.bind();
		ImageIcon img = new ImageIcon(Base64.decode("iVBORw0KGgoAAAANSUhEUgAAAJYAAACFCAYAAAC5QwHXAAAACXBIWXMAAAsTAAALEwEAmpwYAAA5oGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMwNjcgNzkuMTU3NzQ3LCAyMDE1LzAzLzMwLTIzOjQwOjQyICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDpFOTAwRjA4Nzg4MUNFNTExODc2QkI4QUZCMDA5REU0QTwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOkM1RkU5OTZEMzM3NzExRTU4OURERkVBRDFEMkJDQjBEPC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjIzNDUwYmFlLTg2YjMtNzE0Yi04ZTg0LWNkMmQzZmY1ZDMxMTwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRlcml2ZWRGcm9tIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgPHN0UmVmOmluc3RhbmNlSUQ+eG1wLmlpZDo5NUY2NERDRUFBMUNFNTExODc2QkI4QUZCMDA5REU0QTwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFOTAwRjA4Nzg4MUNFNTExODc2QkI4QUZCMDA5REU0QTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjIzNDUwYmFlLTg2YjMtNzE0Yi04ZTg0LWNkMmQzZmY1ZDMxMTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNS0xMS0wNVQwMDo0ODoyOSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE1LTExLTA1VDAwOjE4OjIxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTUtMTEtMDVUMDA6NDg6MjkrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDE1LTExLTA1VDAwOjQ4OjI5KzAxOjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8cGhvdG9zaG9wOkNvbG9yTW9kZT4zPC9waG90b3Nob3A6Q29sb3JNb2RlPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT42NTUzNTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+MTUwPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjEzMzwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+MJpNFwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6AAAUggAARVYAAA6lwAAF2/XWh+QAAAxjklEQVR42ux9eXgUVfb2e6uqlyxkIUAIRLaMBhBBEMJqYBgcBRFFCDCiKAjI6A9EUD5HdBwUZFAYxR0RQZAlMGpANgU0yi6IgsoWQtjSIQnZk16r6n5/pBo6nVp7Cc449Tz9pLtS673vPct7zzmXUEoBAIQQE65txGq1uocNGxabmZk5m1LaC4ALv/ONEEJtNtuali1brgBg1jicBnALGsTxJMB7BnJvxWOpBCjOv+28X9q1a4fMzEwrpbQPIaQv/rcBAFiWPeLfVgoNTQLoOGKww0kI7hkIMInW9TmFhyKCIACACMDxPzhd3TyUUleAICIa0kZs06YNbdu2rcDzvBfETHZ2NgOAkfrCsJA1CDQS4ECgasBSGzXe7Zjb7f42Ozub+0/UZIGcdPvtt4sREREjACQaGLV6Osh7DGnTpo3nxhtvFP/xj3+gT58+AGAB4AEgTps2TVy5ciWpqKjgglSzRoFDDAKM+utESGrRLL2QBYAlNTUVlNKmoijuoNJWVFT02syZM39XIiovLw+U0r1SE7gLCgrmSP+yKnwsGh+zz8fUrl07HDp0CJTSTpTSUVVV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"));   
		this.setIconImage(img.getImage());

		pack();
	}// </editor-fold>//GEN-END:initComponents

	private void javaPathActionPerformed(java.awt.event.ActionEvent evt) {// GEN-FIRST:event_javaPathActionPerformed
		int returnVal = fileChooser.showOpenDialog(this);
		if (returnVal == JFileChooser.APPROVE_OPTION) {
			File file = fileChooser.getSelectedFile();
			settings.setJavaPath(file.getAbsolutePath());
		}
	}// GEN-LAST:event_javaPathActionPerformed

	private void labelPasswordMouseClicked(java.awt.event.MouseEvent evt) {// GEN-FIRST:event_fieldPasswordActionPerformed
		try {
			java.awt.Desktop.getDesktop().browse(new URI("https://unionlu.duckdns.org/"));
		} catch (URISyntaxException e) {
			e.printStackTrace();
		} catch (IOException e) {
			e.printStackTrace();
		}
	}// GEN-LAST:event_labelPasswordMouseClicked

	/**
	 * Creates new form login
	 */
	public void mainUiInit() {

		File settingsFolder = new File("./settings/");
		if (!settingsFolder.exists()) {
			settingsFolder.mkdir();
		}
		if (settingsFile.exists()) {
			try {
				settings = mapper.readValue(settingsFile, Settings.class);
			} catch (IOException ex) {
				Logger.getLogger(MainUi.class.getName()).log(Level.SEVERE, null, ex);
				JOptionPane.showMessageDialog(this, "Por favor ejecuta como administrador.", "Error de Ejecucion",
						JOptionPane.ERROR_MESSAGE);
				System.exit(1);
			}
		} else {
			try {
				mapper.writeValue(settingsFile, settings);
			} catch (IOException ex) {
				Logger.getLogger(MainUi.class.getName()).log(Level.SEVERE, null, ex);
				JOptionPane.showMessageDialog(this, "Por favor ejecuta como administrador.", "Error de Ejecucion",
						JOptionPane.ERROR_MESSAGE);
				System.exit(1);
			}
		}

		fieldUser.setText(settings.getUser());
		fieldPassword.setText(settings.getPassword());
		checkRemember.setSelected(settings.isRemember());
		spinnerRam.setValue(new Integer(settings.getRam()));
		fileChooser.setSelectedFile(new File(settings.getJavaPath()));
		statusServerActionPerformed(null);
	}

	private void playActionPerformed(java.awt.event.ActionEvent evt) {// GEN-FIRST:event_playActionPerformed
		disableComponents();
		if (fieldUser.getText().isEmpty() || fieldPassword.getPassword().length == 0) {
			JOptionPane.showMessageDialog(this, "Debes rellenar usuario y contraseña.", "Error de Formulario",
					JOptionPane.ERROR_MESSAGE);
			enableComponents();
			return;
		}

		if (!NetworkUtils.isInternetOn()) {
			if (settings.getVersion().equals("-1")) {
				JOptionPane.showMessageDialog(this, "Debes tener internet en la primera ejecucion.",
						"Error de Ejecucion", JOptionPane.ERROR_MESSAGE);
				enableComponents();
				return;
			} else {
				int choice = JOptionPane.showOptionDialog(this,
						"No se ha establecido conexión con el servidor. Se iniciará el Minecraft en modo Offline.",
						"AVISO IMPORTANTE", JOptionPane.YES_NO_OPTION, JOptionPane.WARNING_MESSAGE, null, null, null);
				if (choice == JOptionPane.YES_OPTION) {
					this.runMinecraft(false);
				} else {
					enableComponents();
					return;
				}
			}
		}

		int loginResult = NetworkUtils.makeLogin(fieldUser.getText(), String.valueOf(fieldPassword.getPassword()));
		if (loginResult != 1) {

			if (loginResult == 0) {
				JOptionPane.showMessageDialog(this,
						"La relacion usuario-contraseña es incorrecta. Vuelva a intentarlo.", "Error de Login",
						JOptionPane.ERROR_MESSAGE);
				enableComponents();
				return;
			}

			if (settings.getVersion().equals("-1")) {
				JOptionPane.showMessageDialog(this,
						"No se ha establecido conexión con el servidor para poder realizar la primera descarga. Por favor inténtelo más tarde.",
						"Error de Ejecucion", JOptionPane.ERROR_MESSAGE);
				enableComponents();
				return;
			} else {
				int choice = JOptionPane.showOptionDialog(this,
						"No se ha establecido conexión con el servidor. Se iniciará el Minecraft en modo Offline.",
						"AVISO IMPORTANTE", JOptionPane.YES_NO_OPTION, JOptionPane.WARNING_MESSAGE, null, null, null);
				if (choice == JOptionPane.YES_OPTION) {
					this.runMinecraft(false);
				} else {
					enableComponents();
					return;
				}
			}
		}

		if (checkRemember.isSelected()) {
			settings.setRemember(true);
			settings.setUser(fieldUser.getText());
			settings.setPassword(String.valueOf(fieldPassword.getPassword()));
		} else {
			settings.setRemember(false);
			settings.setUser("");
			settings.setPassword("");
		}
		try {
			mapper.writeValue(settingsFile, settings);
		} catch (IOException ex) {
			Logger.getLogger(MainUi.class.getName()).log(Level.SEVERE, null, ex);
			JOptionPane.showMessageDialog(this, "Por favor ejecuta como administrador.", "Error de Ejecucion",
					JOptionPane.ERROR_MESSAGE);
			System.exit(1);
		}
		progressBar.setIndeterminate(true);
		progressBar.setString("Revisando version...");
		progressBar.setStringPainted(true);

		UpdaterWorker updater = new UpdaterWorker(this, progressBar);

		updater.execute();
	}// GEN-LAST:event_playActionPerformed

	private void resetActionPerformed(java.awt.event.ActionEvent evt) {// GEN-FIRST:event_resetActionPerformed
		int choice = JOptionPane.showOptionDialog(this,
				"Si continuas perderas todos los datos guardados de Minecraft, del Launcher y se descargara todo de 0.",
				"AVISO IMPORTANTE", JOptionPane.YES_NO_OPTION, JOptionPane.WARNING_MESSAGE, null, null, null);
		if (choice == JOptionPane.YES_OPTION) {
			settings = new Settings();
			try {
				mapper.writeValue(settingsFile, settings);
			} catch (IOException ex) {
				Logger.getLogger(MainUi.class.getName()).log(Level.SEVERE, null, ex);
				JOptionPane.showMessageDialog(this, "Por favor ejecuta como administrador.", "Error de Ejecucion",
						JOptionPane.ERROR_MESSAGE);
				System.exit(1);
			}
			mainUiInit();
		}
	}// GEN-LAST:event_resetActionPerformed

	public void runMinecraft(boolean online) {
		if (progressBar.isIndeterminate()) {
			progressBar.setString("Descargando datos...");
			DataerWorker dataer = new DataerWorker(this, progressBar, settings, online);
			dataer.execute();
		} else {
			enableComponents();
		}
	}

	private void spinnerRamStateChanged(javax.swing.event.ChangeEvent evt) {// GEN-FIRST:event_spinnerRamStateChanged
		if (lastValueRam != null && !spinnerRam.getValue().equals(lastValueRam)) {
			settings.setRam((int) spinnerRam.getValue());
		}
		lastValueRam = (int) spinnerRam.getValue();
	}// GEN-LAST:event_spinnerRamStateChanged

	private void statusServerActionPerformed(java.awt.event.ActionEvent evt) {// GEN-FIRST:event_statusServerActionPerformed
		if (NetworkUtils.isServerOn()) {
			statusServer.setSelected(true);
			statusServer.setToolTipText("Server Online");
		} else {
			statusServer.setSelected(false);
			statusServer.setToolTipText("Server Offline");
		}
	}// GEN-LAST:event_statusServerActionPerformed
}
